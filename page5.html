<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Web Escape | Page 5</title>

<style>
/* RESET */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Courier New', monospace;
}

body {
  height: 100vh;
  background: url("./images/page5 bg.png") no-repeat center/cover;
  overflow: hidden;
  position: relative;
}

/* STORY BOX */
.story {
  position: absolute;
  top: 10%;
  left: 50%;
  transform: translateX(-50%);
  padding: 20px 30px;
  color: #fff;
  width: 70%;
  text-align: center;
  z-index: 5;
}

.story h1 {
  color: crimson;
  margin-bottom: 10px;
}

.story p {
  opacity: 0.9;
}

.hint {
  margin-top: 8px;
  font-size: 14px;
  color: #ffd700;
  opacity: 0.7;
}

/* SHADOW (BUG IS HERE) */
.shadow {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.85);
  z-index: 4; /* ❌ BUG: too high */
}

/* LADDER (HIDDEN INITIALLY) */
.ladder {
  position: absolute;
  bottom: 0;
  left: 49%;
  transform: translateX(-50%);
  width: 80px;
  height: 280px;
  border: 4px solid #aaa;
  background: repeating-linear-gradient(
    to bottom,
    #666 0px,
    #666 10px,
    transparent 10px,
    transparent 25px
  );
  z-index: 2; /* ❌ ladder is behind shadow */
}

/* ESCAPE BUTTON */
.escape {
  position: absolute;
  bottom: 40px;
  right: 40px;
  padding: 14px 30px;
  background: crimson;
  color: #fff;
  text-decoration: none;
  font-size: 18px;
  border-radius: 6px;
  opacity: 0.3;
  pointer-events: none;
  transition: 0.4s;
  z-index: 6;
}

.escape.active {
  opacity: 1;
  pointer-events: auto;
  box-shadow: 0 0 20px crimson;
}
</style>
</head>

<body>

<!-- STORY -->
<div class="story">
  <h1>The Mind Flayer’s Shadow</h1>
  <p>
    The sky bleeds red.  
    A shadow smothers Hawkins.  
    Joyce screams: <em>“Get above it!”</em>
  </p>
  <p class="hint">
    What blocks the way is not the object…  
    but where it stands.
  </p>
</div>

<!-- SHADOW LAYER -->
<div class="shadow"></div>

<!-- LADDER -->
<div class="ladder" id="ladder"></div>

<!-- ESCAPE -->
<a href="page6.html" class="escape" id="escape">CLIMB & ESCAPE</a>

<script>
/* CHECK IF BUG IS FIXED */
setInterval(() => {
  const ladder = document.getElementById("ladder");
  const shadow = document.querySelector(".shadow");
  const escapeBtn = document.getElementById("escape");

  const ladderZ = parseInt(getComputedStyle(ladder).zIndex);
  const shadowZ = parseInt(getComputedStyle(shadow).zIndex);

  if (ladderZ > shadowZ) {
    escapeBtn.classList.add("active");
  }
}, 500);
</script>

</body>
</html>
