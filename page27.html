<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Page 27 â€“ VIP Lounge</title>

<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    color: white;
    text-align: center;
    background: url("./images/page27\ bg.png") center/cover no-repeat;
    background-size: cover;
    min-height: 100vh;
    background-position: center;
    background-repeat: no-repeat;
    overflow: hidden; 
  }

  h1 {
    margin-top: 20px;
  }

  .lounge {
    display: flex;
    justify-content: center;
    gap: 40px;
    margin-top: 60px;
  }

  .camera {
    width: 120px;
    height: 120px;
    background: red;
    border-radius: 12px;
    cursor: pointer;
    position:relative;
    margin-left: 50px;
    margin-right: 50px;
    margin-top: 20px;
    padding-right: 70px;

    /* BUG 1 (CSS): clicks blocked */
    pointer-events: none;
  }

  .camera::after {
    content: "VIP CAM";
    position:absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 14px;
  }

  /* BUG 2 (CSS): class name mismatch */
  .camera.disabled {
    background: #333;
  }

  button {
    margin-top: 50px;
    padding: 12px 22px;
    font-size: 16px;
    cursor: pointer;
  }

  .status {
    margin-top: 20px;
    font-weight: bold;
  }
</style>
</head>

<body>

<h1>VIP Lounge</h1>
<p>Disable all surveillance cameras</p>

<div class="lounge">
  <!-- BUG 3 (HTML): wrong attribute name -->
  <div class="camera" data-state="active"></div>
  <div class="camera" data-state="active"></div>
  <div class="camera" data-state="active"></div>
</div>

<button id="checkBtn">Check Cameras</button>

<div class="status" id="status"></div>

<script>
  const cameras = document.querySelectorAll(".camera");
  const statusText = document.getElementById("status");

  cameras.forEach(cam => {
    cam.addEventListener("click", async () => {
      await new Promise(resolve => setTimeout(resolve, 300));

      cam.classList.add("off");
      cam.dataset.state = "off";
    });
  });

  document.getElementById("checkBtn").addEventListener("click", () => {
    const activeCameras = [...cameras].filter(
      cam => cam.dataset.state === "active"
    );

    if (activeCameras.length === 0) {
      statusText.textContent = "All cameras disabled. Proceeding...";
      setTimeout(() => {
        window.location.href = "page28.html";
      }, 1000);
    } else {
      statusText.textContent = "VIP cameras are still active!";
    }
  });
</script>

</body>
</html>
